<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SmartCare Health</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background: #f4f4f4;
      font-family: 'Segoe UI', sans-serif;
    }

    /* Navbar logo */
    .logo img {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      border: 2px solid white;
    }

    .navbar-brand {
      font-weight: bold;
      font-size: 1.5rem;
      margin-left: 10px;
    }

    /* Page heading */
    h1.page-title {
      font-weight: bold;
      color: #198754;
      margin: 40px 0 30px 0;
    }

    /* Form container */
    .form-container {
      background: #212529;
      color: white;
      border-radius: 15px;
      padding: 40px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.2);
    }

    .form-control {
      border-radius: 25px;
    }

    /* Speech button */
    .btn-speech {
      border-radius: 25px;
      border: 2px solid white;
      background: #0d6efd;
      color: white;
      transition: 0.3s;
    }

    .btn-speech:hover {
      background: #0b5ed7;
    }

    /* Transcription area */
    #transcription {
      margin-top: 10px;
      padding: 12px;
      background: #343a40;
      border-radius: 12px;
      min-height: 40px;
      color: white;
      font-weight: 500;
    }

    /* Result buttons */
    .result-buttons .btn {
      margin: 5px;
      width: 140px;
      font-weight: bold;
      color: black;
      border-radius: 8px;
    }

    .result-buttons .btn:hover {
      transform: scale(1.05);
      transition: 0.2s;
    }

    /* Modals */
    .modal-header {
      background-color: #212529;
      color: white;
    }

    .modal-body {
      background-color: #f8f9fa;
      color: black;
    }

    .slide-right{
    display:inline-block;
    animation: slideRight 1.2s ease-out forwards;
}

@keyframes slideRight{
    from{
        transform: translateX(-80px);
        opacity:0;
    }
    to{
        transform: translateX(0);
        opacity:1;
    }
}

.moving-text{
    position: relative;
    white-space: nowrap;
    animation: moveLeftRight 15s linear infinite; /* slow */
}

@keyframes moveLeftRight{
    from { transform: translateX(-26%); }  /* kam distance */
    to   { transform: translateX(34%); }   /* kam distance */
}






  </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <!-- Logo at the top-left corner -->
            <div class="logo">
                <img class="myimg" src="{{ url_for('static', filename='SmartCare Health logo design.png') }}" alt="">
            </div>

        <a class="navbar-brand slide-right" href="#">SmartCare Health</a>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/about">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/contact">Contact</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/video">Video</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/blog">Blog</a>
                    </li>
                </ul>

            </div>
        </div>
    </nav>




<!-- main form of page -->
<h1 class="mt-4 my-4 text-center text-green moving-text">
    SmartCare Health
</h1>
<div class="container my-4 mt-4" style="background: black; color: white; border-radius: 15px; padding: 40px;">
    <form action="/predict" method="post">
<div class="form-group position-relative">
    <label for="symptoms">Select Symptoms:</label>
    <input type="text" class="form-control" id="symptoms" name="symptoms" placeholder="Type symptoms such as itching, sleeping, aching etc">
    <div id="suggestions" class="autocomplete-suggestions"></div>
</div>


        <br>
        <button type="button" id="startSpeechRecognition" class="btn btn-primary" style="margin-left:3px;border:1px solid white; border-radius:20px;">
            Start Speech Recognition
        </button>
        <br>

        <!-- Display the transcribed text here -->
        <div name="mysysms" id="transcription"></div>

        {% if message %}
        <p>{{ message }}</p>
        {% endif %}
        <br>

        <button type="submit" class="btn btn-danger btn-lg" style="width: 100%; padding: 14px; margin-bottom: 5px;">Predict</button>
    </form>
</div>








{% if predicted_disease %}


<!-- Results -->
<h1 class="text-center my-4 mt-4">Our AI System Results</h1>
<div class="container text-center">

    <div class="result-container">
        <!-- Buttons initially hidden except the first -->
        <button class="toggle-button btn btn-warning mb-2" id="btn1" data-bs-toggle="modal" data-bs-target="#diseaseModal"
                style="width:140px; display:inline-block;">Disease</button>
        <button class="toggle-button btn btn-primary mb-2" id="btn2" data-bs-toggle="modal" data-bs-target="#descriptionModal"
                style="width:140px; display:none;">Description</button>
        <button class="toggle-button btn btn-pink mb-2" id="btn3" data-bs-toggle="modal" data-bs-target="#precautionModal"
                style="width:140px; display:none;">Precaution</button>
        <button class="toggle-button btn btn-danger mb-2" id="btn4" data-bs-toggle="modal" data-bs-target="#medicationsModal"
                style="width:140px; display:none;">Medications</button>
        <button class="toggle-button btn btn-success mb-2" id="btn5" data-bs-toggle="modal" data-bs-target="#workoutsModal"
                style="width:140px; display:none;">Workouts</button>
        <button class="toggle-button btn btn-warning mb-2" id="btn6" data-bs-toggle="modal" data-bs-target="#dietsModal"
                style="width:140px; display:none;">Diets</button>
    </div>
</div>

{% endif %}

<div class="container my-4"
     style="background:#111; color:white; border-radius:15px; padding:30px;">

    <!-- Disease -->
    <div id="showDisease" style="display:none;">
        <h4>Disease</h4>
        <ul>
            <li>{{ predicted_disease }}</li>
        </ul>
    </div>

    <!-- Description -->
    <div id="showDescription" style="display:none;">
        <h4>Description</h4>
        <ul>
            <li>{{ dis_des }}</li>
        </ul>
    </div>

    <!-- Precautions -->
    <div id="showPrecaution" style="display:none;">
        <h4>Precautions</h4>
        <ul>
            {% for i in my_precautions %}
                <li>{{ i }}</li>
            {% endfor %}
        </ul>
    </div>

    <!-- Medications -->
    <div id="showMedications" style="display:none;">
        <h4>Medications</h4>
        <ul>
            {% for i in medications %}
                <li>{{ i }}</li>
            {% endfor %}
        </ul>
    </div>

    <!-- Workouts -->
    <div id="showWorkouts" style="display:none;">
        <h4>Workouts</h4>
        <ul>
            {% for i in workout %}
                <li>{{ i }}</li>
            {% endfor %}
        </ul>
    </div>

    <!-- Diet -->
    <div id="showDiets" style="display:none;">
        <h4>Diets</h4>
        <ul>
            {% for i in my_diet %}
                <li>{{ i }}</li>
            {% endfor %}
        </ul>
    </div>

</div>



        <script>
    const startSpeechRecognitionButton = document.getElementById('startSpeechRecognition');
    const transcriptionDiv = document.getElementById('transcription');

    startSpeechRecognitionButton.addEventListener('click', startSpeechRecognition);

    function startSpeechRecognition() {
        const recognition = new webkitSpeechRecognition(); // Use webkitSpeechRecognition for compatibility

        recognition.lang = 'en-US'; // Set the language for recognition

        recognition.onresult = function (event) {
            const result = event.results[0][0].transcript;
            transcriptionDiv.textContent = result;
        };

        recognition.onend = function () {
            console.log('Speech recognition ended.');
        };

        recognition.start();
    }


     // Array of buttons in order
    const buttons = ["btn1", "btn2", "btn3", "btn4", "btn5", "btn6"];

    buttons.forEach((btnId, index) => {
        const btn = document.getElementById(btnId);

        btn.addEventListener('click', () => {
            // Show the next button if exists
            if (index + 1 < buttons.length) {
                document.getElementById(buttons[index + 1]).style.display = "inline-block";
            }
        });
    });






// All symptoms from your dictionary
const symptoms = [
  'itching','skin_rash','nodal_skin_eruptions','continuous_sneezing','shivering',
  'chills','joint_pain','stomach_pain','acidity','ulcers_on_tongue','muscle_wasting',
  'vomiting','burning_micturition','spotting_ urination','fatigue','weight_gain','anxiety',
  'cold_hands_and_feets','mood_swings','weight_loss','restlessness','lethargy','patches_in_throat',
  'irregular_sugar_level','cough','high_fever','sunken_eyes','breathlessness','sweating',
  'dehydration','indigestion','headache','yellowish_skin','dark_urine','nausea','loss_of_appetite',
  'pain_behind_the_eyes','back_pain','constipation','abdominal_pain','diarrhoea','mild_fever',
  'yellow_urine','yellowing_of_eyes','acute_liver_failure','fluid_overload','swelling_of_stomach',
  'swelled_lymph_nodes','malaise','blurred_and_distorted_vision','phlegm','throat_irritation',
  'redness_of_eyes','sinus_pressure','runny_nose','congestion','chest_pain','weakness_in_limbs',
  'fast_heart_rate','pain_during_bowel_movements','pain_in_anal_region','bloody_stool',
  'irritation_in_anus','neck_pain','dizziness','cramps','bruising','obesity','swollen_legs',
  'swollen_blood_vessels','puffy_face_and_eyes','enlarged_thyroid','brittle_nails',
  'swollen_extremeties','excessive_hunger','extra_marital_contacts','drying_and_tingling_lips',
  'slurred_speech','knee_pain','hip_joint_pain','muscle_weakness','stiff_neck',
  'swelling_joints','movement_stiffness','spinning_movements','loss_of_balance','unsteadiness',
  'weakness_of_one_body_side','loss_of_smell','bladder_discomfort','foul_smell_of urine',
  'continuous_feel_of_urine','passage_of_gases','internal_itching','toxic_look_(typhos)',
  'depression','irritability','muscle_pain','altered_sensorium','red_spots_over_body','belly_pain',
  'abnormal_menstruation','dischromic _patches','watering_from_eyes','increased_appetite',
  'polyuria','family_history','mucoid_sputum','rusty_sputum','lack_of_concentration',
  'visual_disturbances','receiving_blood_transfusion','receiving_unsterile_injections','coma',
  'stomach_bleeding','distention_of_abdomen','history_of_alcohol_consumption','fluid_overload.1',
  'blood_in_sputum','prominent_veins_on_calf','palpitations','painful_walking','pus_filled_pimples',
  'blackheads','scurring','skin_peeling','silver_like_dusting','small_dents_in_nails',
  'inflammatory_nails','blister','red_sore_around_nose','yellow_crust_ooze'
];

const input = document.getElementById('symptoms');
const suggestions = document.getElementById('suggestions');

// Show suggestions as user types
input.addEventListener('input', function() {
    const query = this.value.toLowerCase();
    suggestions.innerHTML = '';
    if (!query) return;

    // For multi-symptom input (comma-separated)
    const lastPart = query.split(',').pop().trim();

    const matches = symptoms.filter(s => s.toLowerCase().includes(lastPart));
    matches.forEach(s => {
        const div = document.createElement('div');
        div.classList.add('autocomplete-suggestion');
        div.textContent = s;
        div.addEventListener('click', () => {
            // Replace last typed symptom with selected suggestion
            let parts = input.value.split(',');
            parts[parts.length - 1] = s;
            input.value = parts.join(', ') + ', ';
            suggestions.innerHTML = '';
        });
        suggestions.appendChild(div);
    });
});

// Hide suggestions when clicking outside
document.addEventListener('click', (e) => {
    if (!input.contains(e.target)) {
        suggestions.innerHTML = '';
    }
});






document.getElementById("btn1").onclick = () =>
    document.getElementById("showDisease").style.display = "block";

document.getElementById("btn2").onclick = () =>
    document.getElementById("showDescription").style.display = "block";

document.getElementById("btn3").onclick = () =>
    document.getElementById("showPrecaution").style.display = "block";

document.getElementById("btn4").onclick = () =>
    document.getElementById("showMedications").style.display = "block";

document.getElementById("btn5").onclick = () =>
    document.getElementById("showWorkouts").style.display = "block";

document.getElementById("btn6").onclick = () =>
    document.getElementById("showDiets").style.display = "block";


</script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
</body>

</html>
